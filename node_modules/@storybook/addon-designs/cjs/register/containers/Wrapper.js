"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
exports.Wrapper = void 0;
var react_1 = require("react");
var theming_1 = require("@storybook/theming");
var manager_api_1 = require("@storybook/manager-api");
var addon_1 = require("../../addon");
var Wrapper_1 = require("../components/Wrapper");
var Wrapper = function (_a) {
    var active = _a.active;
    var state = (0, manager_api_1.useStorybookState)();
    var config = (0, manager_api_1.useParameter)(addon_1.ParameterName);
    var _b = (0, react_1.useState)(active), onceRevealed = _b[0], setOnceRevealed = _b[1];
    (0, react_1.useEffect)(function () {
        setOnceRevealed(active);
    }, [config]);
    (0, react_1.useEffect)(function () {
        if (active) {
            setOnceRevealed(true);
        }
    }, [active]);
    if (!onceRevealed) {
        return null;
    }
    return (0, theming_1.jsx)(Wrapper_1.Wrapper, { key: state.storyId, config: config });
};
exports.Wrapper = Wrapper;
exports.default = exports.Wrapper;
